{"ast":null,"code":"var _regeneratorRuntime = require(\"@babel/runtime/regenerator\");\n\nvar domain = \"https://deep-analysis02.herokuapp.com\";\n\nexports.refreshToken = function _callee(AsyncStorage) {\n  var myHeaders, raw, requestOptions, response, retorno;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          myHeaders = new Headers();\n          myHeaders.append(\"Content-Type\", \"application/json\");\n          _context.t0 = JSON;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@refreshToken\"));\n\n        case 5:\n          _context.t1 = _context.sent;\n          _context.t2 = {\n            \"refreshToken\": _context.t1\n          };\n          raw = _context.t0.stringify.call(_context.t0, _context.t2);\n          requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n          };\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(fetch(domain + \"/user/auth/refreshToken\", requestOptions));\n\n        case 11:\n          response = _context.sent;\n          _context.next = 14;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 14:\n          retorno = _context.sent;\n          _context.next = 17;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"@refreshToken\", retorno.refreshToken));\n\n        case 17:\n          _context.next = 19;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"@token\", retorno.token));\n\n        case 19:\n          return _context.abrupt(\"return\", retorno.token);\n\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"names":["domain","exports","refreshToken","AsyncStorage","myHeaders","Headers","append","JSON","getItem","raw","stringify","requestOptions","method","headers","body","redirect","fetch","response","json","retorno","setItem","token"],"sources":["C:/Users/ROBSONLUCASSILVEIRAM/Documents/tcc/src/modal/Token.js"],"sourcesContent":["const domain = \"https://deep-analysis02.herokuapp.com\";\r\n\r\n\r\nexports.refreshToken = async (AsyncStorage) =>{\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n  \r\n    var raw = JSON.stringify({\r\n        \"refreshToken\": await AsyncStorage.getItem(\"@refreshToken\")\r\n    });\r\n  \r\n    var requestOptions = {\r\n      method: 'POST',    headers: myHeaders,    body: raw,    redirect: 'follow'\r\n    };\r\n  \r\n    const response = await fetch(`${domain}/user/auth/refreshToken`, requestOptions)\r\n\r\n    const retorno = await response.json();\r\n    await AsyncStorage.setItem(\"@refreshToken\", retorno.refreshToken);\r\n    await AsyncStorage.setItem(\"@token\", retorno.token);\r\n    return retorno.token;\r\n}"],"mappings":";;AAAA,IAAMA,MAAM,GAAG,uCAAf;;AAGAC,OAAO,CAACC,YAAR,GAAuB,iBAAOC,YAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UACfC,SADe,GACH,IAAIC,OAAJ,EADG;UAEnBD,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;UAFmB,cAITC,IAJS;UAAA;UAAA,iCAKOJ,YAAY,CAACK,OAAb,CAAqB,eAArB,CALP;;QAAA;UAAA;UAAA;YAKf,cALe;UAAA;UAIfC,GAJe,eAIJC,SAJI;UAQfC,cARe,GAQE;YACnBC,MAAM,EAAE,MADW;YACAC,OAAO,EAAET,SADT;YACuBU,IAAI,EAAEL,GAD7B;YACqCM,QAAQ,EAAE;UAD/C,CARF;UAAA;UAAA,iCAYIC,KAAK,CAAIhB,MAAJ,8BAAqCW,cAArC,CAZT;;QAAA;UAYbM,QAZa;UAAA;UAAA,iCAcGA,QAAQ,CAACC,IAAT,EAdH;;QAAA;UAcbC,OAda;UAAA;UAAA,iCAebhB,YAAY,CAACiB,OAAb,CAAqB,eAArB,EAAsCD,OAAO,CAACjB,YAA9C,CAfa;;QAAA;UAAA;UAAA,iCAgBbC,YAAY,CAACiB,OAAb,CAAqB,QAArB,EAA+BD,OAAO,CAACE,KAAvC,CAhBa;;QAAA;UAAA,iCAiBZF,OAAO,CAACE,KAjBI;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAvB"},"metadata":{},"sourceType":"script"}