{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from 'react';\nimport { useState, useEffect } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PermissionsAndroid from \"react-native-web/dist/exports/PermissionsAndroid\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport { BleManager } from 'react-native-ble-plx';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var manager = new BleManager();\nvar deviceEncontrado;\nvar requestCameraPermission = function _callee() {\n  var granted;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.BLUETOOTH_CONNECT, {\n            title: \"Cool Photo App Camera Permission\",\n            message: \"Cool Photo App needs access to your camera \" + \"so you can take awesome pictures.\",\n            buttonNeutral: \"Ask Me Later\",\n            buttonNegative: \"Cancel\",\n            buttonPositive: \"OK\"\n          }));\n        case 3:\n          granted = _context.sent;\n          if (granted === PermissionsAndroid.RESULTS.GRANTED) {\n            console.log(\"You can use the camera\");\n          } else {\n            console.log(\"Camera permission denied\");\n          }\n          _context.next = 10;\n          break;\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          console.warn(_context.t0);\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\nvar requestScanPermission = function _callee2() {\n  var granted;\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION, {\n            title: \"Cool Photo App Camera Permission\",\n            message: \"Cool Photo App needs access to your camera \" + \"so you can take awesome pictures.\",\n            buttonNeutral: \"Ask Me Later\",\n            buttonNegative: \"Cancel\",\n            buttonPositive: \"OK\"\n          }));\n        case 3:\n          granted = _context2.sent;\n          if (granted === PermissionsAndroid.RESULTS.GRANTED) {\n            console.log(\"You can use the camera\");\n          } else {\n            console.log(\"Camera permission denied\");\n          }\n          _context2.next = 10;\n          break;\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.warn(_context2.t0);\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n};\nvar scanAndConnect = function _callee3() {\n  return _regeneratorRuntime.async(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          console.log(\"Clicado\");\n          manager.startDeviceScan(null, null, function (error, device) {\n            if (error) {\n              return;\n            }\n\n            console.log(device.name);\n            console.log(device.name == \"i12\");\n            if (device.name == \"i12\") {\n              console.log(\"Legal\");\n\n              manager.stopDeviceScan();\n\n              device.connect().then(function (device) {\n                return device.discoverAllServicesAndCharacteristics();\n              }).then(function (device) {\n                deviceEncontrado = device;\n              }).catch(function (error) {\n                console.log(error);\n              });\n            }\n          });\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nfunction BluTest(_ref) {\n  var navigation = _ref.navigation;\n  useEffect(function () {}, []);\n  return _jsxs(View, {\n    style: {},\n    children: [_jsx(Text, {\n      children: \"Bluetooth Teste\"\n    }), _jsx(TouchableHighlight, {\n      onPressOut: scanAndConnect,\n      children: _jsx(Text, {\n        children: \"Clique Aqui\"\n      })\n    }), _jsx(TouchableHighlight, {\n      onPressOut: function onPressOut() {\n        manager.isDeviceConnected();\n      },\n      children: _jsx(Text, {\n        children: \"Clique Aqui\"\n      })\n    })]\n  });\n}\nexport default BluTest;","map":{"version":3,"names":["React","useState","useEffect","BleManager","manager","deviceEncontrado","requestCameraPermission","PermissionsAndroid","request","PERMISSIONS","BLUETOOTH_CONNECT","title","message","buttonNeutral","buttonNegative","buttonPositive","granted","RESULTS","GRANTED","console","log","warn","requestScanPermission","ACCESS_COARSE_LOCATION","scanAndConnect","startDeviceScan","error","device","name","stopDeviceScan","connect","then","discoverAllServicesAndCharacteristics","catch","BluTest","navigation","isDeviceConnected"],"sources":["C:/Users/ROBSONLUCASSILVEIRAM/Documents/tcc/src/views/BluTest.js"],"sourcesContent":["import * as React from 'react';\r\nimport { useState, useEffect } from \"react\";\r\nimport { Text, View,TextInput, StyleSheet, PermissionsAndroid, TouchableHighlight } from 'react-native';\r\nimport { BleManager } from 'react-native-ble-plx';\r\n\r\nexport const manager = new BleManager();\r\nvar deviceEncontrado;\r\nconst requestCameraPermission = async () => {\r\n    try {\r\n      const granted = await PermissionsAndroid.request(\r\n        PermissionsAndroid.PERMISSIONS.BLUETOOTH_CONNECT,\r\n        {\r\n          title: \"Cool Photo App Camera Permission\",\r\n          message:\r\n            \"Cool Photo App needs access to your camera \" +\r\n            \"so you can take awesome pictures.\",\r\n          buttonNeutral: \"Ask Me Later\",\r\n          buttonNegative: \"Cancel\",\r\n          buttonPositive: \"OK\"\r\n        }\r\n      );\r\n      if (granted === PermissionsAndroid.RESULTS.GRANTED) {\r\n        console.log(\"You can use the camera\");\r\n      } else {\r\n        console.log(\"Camera permission denied\");\r\n      }\r\n    } catch (err) {\r\n      console.warn(err);\r\n    }\r\n  };\r\n\r\n\r\n  const requestScanPermission = async () => {\r\n    try {\r\n      const granted = await PermissionsAndroid.request(\r\n        PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,\r\n        {\r\n          title: \"Cool Photo App Camera Permission\",\r\n          message:\r\n            \"Cool Photo App needs access to your camera \" +\r\n            \"so you can take awesome pictures.\",\r\n          buttonNeutral: \"Ask Me Later\",\r\n          buttonNegative: \"Cancel\",\r\n          buttonPositive: \"OK\"\r\n        }\r\n      );\r\n      if (granted === PermissionsAndroid.RESULTS.GRANTED) {\r\n        console.log(\"You can use the camera\");\r\n      } else {\r\n        console.log(\"Camera permission denied\");\r\n      }\r\n    } catch (err) {\r\n      console.warn(err);\r\n    }\r\n  };\r\n\r\n  const scanAndConnect = async () => {\r\n    console.log(\"Clicado\");\r\n    manager.startDeviceScan(null, null, (error, device) => {\r\n        \r\n        if (error) {\r\n            // Handle error (scanning will be stopped automatically)\r\n            return\r\n        }\r\n\r\n        // Check if it is a device you are looking for based on advertisement data\r\n        // or other criteria.\r\n        console.log(device.name);\r\n        console.log(device.name == \"i12\");\r\n        if(device.name == \"i12\") {\r\n            console.log(\"Legal\")\r\n            \r\n            // Stop scanning as it's not necessary if you are scanning for one device.\r\n            manager.stopDeviceScan();\r\n\r\n            // Proceed with connection.\r\n            device.connect()\r\n            .then((device) => {\r\n                return device.discoverAllServicesAndCharacteristics()\r\n            })\r\n            .then((device) => {\r\n                deviceEncontrado = device;\r\n                \r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction BluTest({navigation}){\r\n    \r\n\r\n    useEffect(() => {\r\n        \r\n    }, []);\r\n    return(\r\n        <View style={{}}> \r\n            <Text>Bluetooth Teste</Text>\r\n            <TouchableHighlight onPressOut={scanAndConnect}>\r\n                <Text>Clique Aqui</Text>\r\n            </TouchableHighlight>\r\n            <TouchableHighlight onPressOut={()=>{manager.isDeviceConnected()}}>\r\n                <Text>Clique Aqui</Text>\r\n            </TouchableHighlight>\r\n        </View>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default BluTest"],"mappings":"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"},"metadata":{},"sourceType":"module"}